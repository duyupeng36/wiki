# 现代 C++ 程序设计

欢迎学习 **现代 C++** 程序设计。祝贺您迈出了成为更好的 C++ 开发人员的第一步。C++是一门功能非常强大的程序设计语言。它可以用于做一些非常底层的功能，也可以用于做一些非常高层次的软件，这取决于你的选择。C++ 是 1985 年由 Bjarne Stroustrup 发布程序设计语言，**最初是作为 C 语言的面向对象扩展发布**。

1998 年，国际标准组织(International Organization for Standardization, **ISO**) 颁布了 C++程序设计语言的第一个国际标准 **ISO/IEC 14882:1998(C++98)**，目前最新发布的标准为 **ISO/IEC 14882:2024(C++23)**。ISO/IEC 14882 通称 **ISO C++**。

ISO C++ 定义了 **核心语法** 和 **标准库** 的规则，并且 ISO C++ 直接引用了 ISO/IEC 9899(通常称为 **ISO C**)。换句话说，**C++ 与 C 核心语言规则很大一部分是兼容的**。此外，ISO C++ 标准库的一部分和 ISO C 标准库的 API 完全相同，只有很少一部分与 ISO C 标准库存在差异

> [!tip]
>
> 出于上述原因，符合 ISO C 标准的源程序 **不经修改** 或 **经极少修改** 直接作为 C++ 源程序使用，这也是 C++ 语言继 C 语言之后流行的一个重要原因
>

注意到: C++ 与 C 语言的共同特性就是 **允许直接对硬件进行操作**，而无需通过中间层访问硬件；因此，使用 C/C++ 开发的应用程序的运行速度是非常快的。但是，C++ 提供了更现代的程序结构，使得我们可以使用 C++ 以更快、更安全的方式开发应用程序

从技术上讲，只有使用 0 和 1 编写的程序才能直接对硬件进行操作。硬件开发商规定了硬件能够执行的操作，这些操作是由 0 和 1 的组成的位模式进行编码；我们将这种由 0 和 1 编码的操作称为 **机器指令**

> [!tip]
>
> 显然，使用机器指令编写程序是非常困难的，并且不同硬件支持的机器指令可能不相同。换句话说，使用机器指令编写的程序是不可移植的

为了降低编写程序的难度，计算机科学家设计了一套接近 **日常语言** 的符号来替代机器指令，这种符号被称为 **指令助记符**。这种由指令助记符组成的编程语言称为 **汇编语言**。由于硬件无法直接理解这些指令助记符，因此使用汇编语言编写的程序是无法直接在硬件上运行的。为了让汇编程序能够得以运行，就需要让另一个程序员将汇编程序中的指令助记符翻译为机器指令，从而使得硬件能够识别这些指令。

> [!tip]
>
> 我们使用一个称为 **汇编器** 的软件将汇编程序返回为机器指令

然而，汇编语言始终没有接近程序可移植性的问题。因为汇编语言仅仅是机器指令的助记符，还是与硬件直接关联的。换句话说，每种硬件都有它自己的汇编语言。因此，像 C/C++ 这种与硬件无关的高级程序设计语言就被设计并发明了出来。它们提供类似于英语一样的语句来编写程序，然后运行一个 **特殊的程序** 将其转换为汇编语言；最后，在运行 **汇编器** 将汇编程序转换为机器可以直接理解的机器指令。如下图，显示了程序设计语言的分层结构

![1757006438483-b9fb9884a9db4091a7a9aab8e9b706c9.png](http://cdn.jsdelivr.net/gh/duyupeng36/images@master/obsidian/1757006438483-b9fb9884a9db4091a7a9aab8e9b706c9.png)

此外，还可以在汇编语言和高级语言之间引入更多的层，例如，目前流行的 Python、Java 等编程语言。Python 和 Java 程序想要运行需要经过很多中间层步骤；显然，这会导致程序运行变得缓慢。如下图所示

![1757007210820-a8229592b9f84dc791812a61dccf1984.png](http://cdn.jsdelivr.net/gh/duyupeng36/images@master/obsidian/1757007210820-a8229592b9f84dc791812a61dccf1984.png)

由于 C/C++ 编写的程序可以直接运行在硬件上，因此许多有高性能需求的程序都是用 C/C++ 编写的。例如，游戏、对图形变化非常敏感的金融程序、服务器程序、数据库管理系统、操作系统内核等等。在 [stroustrup](https://www.stroustrup.com/) 网站上列出了许多使用 C++ 开发的应用程序；这些称为无一不是对高性能有需求的

目前，C++ 存在两种开发方式，分别是 **传统 C++** 和 **现代 C++**。传统 C++ 是指使用 C++98 及其以下标准；而 **从 C++11 及其之后的标准都称为现代 C++**。在这篇文档中，我们主要介绍 C++11 之后的标准

> [!tip]
>
> 主要学习 C++11、C++14、C++17、C++20 和 C++23 这 5 个 C++ 标准

在正式介绍 C++ 语法之前，我们介绍一下如何安装 C++ 编译环境。参考官网上给出的安装步骤即可

+ 在 Windows 系统中, 可以选择 [msys2](https://www.msys2.org/) 和 [Microsoft Visual C++](https://learn.microsoft.com/en-us/cpp/?view=msvc-170)
+ 在 Linux 系统中，选择 [GCC](https://gcc.gnu.org/) 和 [LLVM&Clang](https://clang.llvm.org/)。可以直接使用包管理器安装即可
+ 在 MacOS 系统中，选择 选择 [xcode](https://developer.apple.com/xcode/)、 [GCC](https://gcc.gnu.org/) 和 [LLVM&Clang](https://clang.llvm.org/)
